<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">
<ui:define name="entete">Vols</ui:define>
	<ui:define name="pageTitle">Vols</ui:define>
	<ui:define name="pageHeader">
	<h2>Gestion des Vols</h2>
		<h:form>
		<p:growl id="messages" showDetail="true" />
			<p:toolbar>
				<f:facet name="left">
					<p:commandButton type="button" value="Ajouter" icon="ui-icon-plus"
						onclick="PF('dialog-insert').show();" />
					<p:commandButton type="button" value="Modifier"
						icon=" ui-icon-folder-open" onclick="PF('dialog-update').show();" />
					<p:commandButton type="button" value="Supprimer"
						icon="ui-icon-trash" />
					<span class="ui-separator"> <span
						class="ui-icon ui-icon-grip-dotted-vertical" />
					</span>

				</f:facet>
			</p:toolbar>
			<p:dialog header="Ajouter Vol"
				widgetVar="dialog-insert" id="dialog-insert" modal="true"
				height="auto" width="600">
				<h:form>
					<h:panelGrid columns="2">
						<h:outputText value="Numero du vol" />
				<p:inputText value="#{volBean.vol.numeroVol}" />
				<h:outputText value="Designation" />
				<p:inputText value="#{volBean.vol.designation}" />
				<h:outputText value="Date Depart" />
				<p:calendar value="#{volBean.vol.dateDepart}" />
				<h:outputText value="Date Arrivee" />
				<p:calendar value="#{volBean.vol.dateArrivee}" />
				<h:outputText value="Depart" />
				<h:selectOneMenu id="departAeroport"
					value="#{volBean.selectedAeroportDepartId}"
					 style="width:250px">
					<f:selectItems value="#{volBean.aeroports}" var="aeroport1"
						itemValue="#{aeroport1.id}" itemLabel="#{aeroport1.nom}" />
				</h:selectOneMenu>
				<h:outputText value="Arrivee" />
				<h:selectOneMenu id="arriveeAeroport"
					value="#{volBean.selectedAeroportArriveeId}"
					 style="width:250px">
					<f:selectItems value="#{volBean.aeroports}" var="aeroport2"
						itemValue="#{aeroport2.id}" itemLabel="#{aeroport2.nom}" />
				</h:selectOneMenu>
				<h:outputText value="Nombre de Place" />
				<p:inputText value="#{volBean.vol.capacite}" />
						<p:commandButton action="#{volBean.doAddVol()}"
							onclick="PF('dialog-insert').hide();" value="Enregistrer"
							icon="ui-icon-disk" update=":volList" />
						<p:commandButton value="Annuler" icon="ui-icon-disk"
							onclick="PF('dialog-insert').hide();" />
					</h:panelGrid>
				</h:form>
			</p:dialog>
			</h:form>
	</ui:define>
	<ui:define name="pageContent">		
	
		<p:dataTable id="volList" var="vol1" value="#{volBean.vols}" selectionMode="single"
			selection="#{vol1}" rowKey="#{vol1.numeroVol}">
  	        <p:column headerText="Numero de Vol">
		        <h:outputText value="#{vol1.numeroVol}" />
		    </p:column>
		    <p:column headerText="Designation">
		        <h:outputText value="#{vol1.designation}" />
		    </p:column>
		    <p:column headerText="Date Depart">
		        <h:outputText value="#{vol1.dateDepart}" />
		    </p:column>
		    <p:column headerText="Date Arrivee">
		        <h:outputText value="#{vol1.dateArrivee}" />
		    </p:column>
		    <p:column headerText="Depart">
		        <h:outputText value="#{vol1.departAeroport.nom}" />
		    </p:column>
		    <p:column headerText="Arrivee">
		        <h:outputText value="#{vol1.arriveeAeroport.nom}" />
		    </p:column>
		    <p:column headerText="Nombre de place">
		        <h:outputText value="#{vol1.capacite}" />
		    </p:column>
		</p:dataTable>
		
	</ui:define>
</ui:composition>